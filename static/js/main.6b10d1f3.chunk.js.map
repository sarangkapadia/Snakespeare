{"version":3,"sources":["grid.ts","byte.tsx","byteList.ts","bytes.ts","snake.ts","box.tsx","gridRenderer.tsx","debug/debugBox.tsx","debug/debugGrid.tsx","wordtiles.tsx","banner.tsx","scores.ts","gridContainer.tsx","useInterval.tsx","title.tsx","header.tsx","components/modals/modalHeader.tsx","components/modals/modalPage.tsx","snakeSmile.gif","components/modals/instructions.tsx","components/modals/settings.tsx","share.svg","graphGrid.ts","button.tsx","components/graphBox.tsx","components/graphGrid.tsx","components/modals/statistics.tsx","globe-white-96.png","user-white-90.png","App.tsx","launchSettings.ts","index.tsx"],"names":["Direction","Role","Byte","React","memo","props","letter","className","byteList","Bytes","index","storageByteList","localStorage","getItem","this","JSON","parse","shuffle","setItem","stringify","storageIndex","array","console","log","randomIndex","currentIndex","length","Math","floor","random","nextWord","Snake","snakeEnds","tail","row","col","head","setSnakeEnds","GridItem","role","Canvas","direction","None","pivot","letterIndex","Grid","grid","gridSize","snake","bytes","currentBytes","hintsPerWord","hintList","root","document","querySelector","rootStyle","getComputedStyle","parseInt","getPropertyValue","Array","i","j","getSnakeEnds","FirstTail","FirstHead","Body","Error","setRandomBytePositions","getNextWord","currentHeadDir","randomRow","randomCol","horizontalDistance","abs","verticalDistance","Right","Left","Up","Down","charAt","toUpperCase","column","getLetterIndex","HintedByte","Box","currentHeadDirection","currentTailDirection","currentTailPivot","getClassNameFromDirection","dir","alert","Head","WrongBody","Tail","WrongByte","CorrectByte","getClassName","startsWith","undefined","toString","GridRenderer","flat","map","item","id","getStringRole","getStringDirection","DebugBox","DebugGrid","NumberTiles","score","digit","LetterTiles","WordTiles","Banner","text","Score","currentScore","instance","hideBannerAfterMs","tickCount","tickCountMs","parseFloat","substr","url","URL","window","location","href","gridObj","URLSearchParams","search","initGridData","getGridSize","getGrid","currentLetter","GridContainer","modalTitle","onGameEnd","useState","getSnake","playing","setPlaying","debug","setDebug","bannerText","setBannerText","movePending","hints","progressiveSpeed","hintsOn","progressiveSpeedOn","hintsTimeOutId","useRef","startDate","playingRef","resetGameToStart","getCurrentBytes","current","getInstance","setCurrentScore","setTimeout","resetSnakeEnds","resetGrid","clearTimeout","style","setProperty","calculateNewHead","ends","currentHeadRow","currentHeadCol","getCurrentHeadDirection","newHeadRow","newHeadCol","expected","getExpectedLetter","landed","incrementLetterIndex","endDate","Date","seconds","getTime","bonus","calculateScore","resetHintTimer","increaseSpeed","getHintsPerWord","calculateNewTail","isHeadOnByte","currentTailRow","currentTailCol","pivotDir","currentTailDir","getCurrentTailDirection","newTailRow","newTailCol","callback","delay","savedCallback","useLayoutEffect","useEffect","setInterval","clearInterval","useInterval","newEnds","getNewEnds","useCallback","resetHint","onHintTimer","setHint","handleOnPlayPauseGame","setCurrentTailDirection","setCurrentHeadDirection","handlers","useSwipeable","onSwipedLeft","setPivotOnCurrentHeadDirection","onSwipedRight","onSwipedDown","onSwipedUp","preventDefaultTouchmoveEvent","trackMouse","getPivotDirectionOnCurrentTail","Title","title","Header","outerTheme","createTheme","palette","primary","main","trim","ThemeProvider","theme","IconButton","color","size","MenuRounded","onClick","onClickInstructions","HelpRounded","onClickStatistics","LeaderboardRounded","onClickSettings","SettingsRounded","ModalHeader","ModalPage","onClose","isWindow","setClassName","containerClassName","setContainerClassName","children","instructions","src","snakeSmile","alt","hintsLabel","inputProps","colorModeLabel","switchColorMain","switchColorLight","GreenSwitch","styled","Switch","backgroundColor","Settings","darkMode","hintsChecked","setHintsChecked","darkModeChecked","setDarkModeChecked","progressiveSpeedChecked","setProgressiveSpeedChecked","checked","onChange","event","target","e","_excluded","_extends","Object","assign","arguments","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgShare","_ref","svgRef","titleId","viewBox","width","height","ref","stroke","fillRule","fill","fillOpacity","d","GraphRole","ForwardRef","Button","label","ScoreIndexs","CountryIndexs","GraphGridItem","Empty","value","GraphData","Country","Podium","country","data","str","GraphBox","GraphGrid","nav","navigator","Statistics","world","personal","getCurrentScore","handleOnShareClick","a","shareData","share","canShare","worldGraph","setSilverData","setGoldData","setBronzeData","personalGraph","ModalObj","About","Instructions","Setting","isFirstVisit","isFirst","initLaunchSettings","App","modalType","setModalType","ReactDOM","render","StrictMode","getElementById"],"mappings":"+iBAGYA,EAQAC,E,+ECLCC,EAA4CC,IAAMC,MAAK,SAACC,GACnE,IAAQC,EAAWD,EAAXC,OACR,OAAO,qBAAKC,UAAU,aAAf,SAA6BD,O,gBCRzBE,EAAqB,CAChC,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QAC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","file":"static/js/main.6b10d1f3.chunk.js","sourcesContent":["import { Bytes } from \"./bytes\";\nimport { Snake } from \"./snake\";\n\nexport enum Direction {\n  None,\n  Up,\n  Down,\n  Right,\n  Left,\n}\n\nexport enum Role {\n  Canvas,\n  Body,\n  WrongBody,\n  Head,\n  Tail,\n  Byte,\n  HintedByte,\n  WrongByte,\n  CorrectByte,\n  FirstHead,\n  FirstTail,\n}\n\nexport interface IGridItem {\n  role: Role;\n  direction: Direction;\n  pivot: Direction;\n  letter: string;\n  letterIndex: number;\n}\n\nexport interface IHintItem {\n  row: number;\n  column: number;\n}\n\nclass GridItem implements IGridItem {\n  role = Role.Canvas;\n  direction = Direction.None;\n  pivot = Direction.None;\n  letter = \"\";\n  letterIndex = -1;\n}\n\nexport class Grid {\n  private grid: GridItem[][];\n  private gridSize: number;\n  private snake: Snake; // Grid contains a Snake\n\n  private bytes: Bytes; // Grid contains Bytes\n  private currentBytes: string = \"snake\";\n  private letterIndex: number = 0;\n  private hintsPerWord: number = 2;\n  private hintList: IHintItem[];\n\n  public constructor() {\n    const root = document.querySelector(\":root\")!;\n    const rootStyle = getComputedStyle(root);\n    this.gridSize = parseInt(rootStyle.getPropertyValue(\"--gridSize\"));\n    this.bytes = new Bytes();\n\n    this.grid = new Array(this.gridSize);\n    for (let i = 0; i < this.gridSize; i++) {\n      this.grid[i] = new Array(this.gridSize);\n    }\n\n    for (let i = 0; i < this.gridSize; i++) {\n      for (let j = 0; j < this.gridSize; j++) {\n        this.grid[i][j] = new GridItem();\n      }\n    }\n\n    this.snake = new Snake();\n    this.hintList = new Array(this.hintsPerWord);\n  }\n\n  public getGrid(): GridItem[][] {\n    return this.grid;\n  }\n\n  public resetGrid() {\n    for (let i = 0; i < this.gridSize; i++) {\n      for (let j = 0; j < this.gridSize; j++) {\n        this.grid[i][j].role = Role.Canvas;\n        this.grid[i][j].direction = Direction.None;\n        this.grid[i][j].pivot = Direction.None;\n        this.grid[i][j].letter = \"\";\n        this.grid[i][j].letterIndex = -1;\n      }\n    }\n    this.letterIndex = 0;\n  }\n\n  public getGridSize(): number {\n    return this.gridSize;\n  }\n\n  public getSnake(): Snake {\n    return this.snake;\n  }\n\n  public getCurrentHeadDirection(): Direction {\n    const { head } = this.snake.getSnakeEnds();\n    return this.grid[head.row][head.col].direction;\n  }\n\n  public getCurrentTailDirection(): Direction {\n    const { tail } = this.snake.getSnakeEnds();\n    return this.grid[tail.row][tail.col].direction;\n  }\n\n  public setCurrentHeadDirection(direction: Direction) {\n    const { head } = this.snake.getSnakeEnds();\n    this.grid[head.row][head.col].direction = direction;\n  }\n\n  public getPivotDirectionOnCurrentTail() {\n    const { tail } = this.snake.getSnakeEnds();\n    return this.grid[tail.row][tail.col].pivot;\n  }\n\n  public setCurrentTailDirection(direction: Direction) {\n    const { tail } = this.snake.getSnakeEnds();\n    this.grid[tail.row][tail.col].direction = direction;\n  }\n\n  setPivotOnCurrentHeadDirection(pivot: Direction) {\n    const { head } = this.snake.getSnakeEnds();\n    this.grid[head.row][head.col].pivot = pivot;\n  }\n\n  public initGridData() {\n    const { tail, head } = this.snake.getSnakeEnds();\n\n    this.grid[tail.row][tail.col].direction = Direction.None;\n    this.grid[head.row][head.col].direction = Direction.None;\n\n    this.grid[tail.row][tail.col].role = Role.FirstTail;\n    this.grid[head.row][head.col].role = Role.FirstHead;\n\n    if (tail.row === head.row) {\n      // horizontal snake\n      for (let i = tail.col + 1; i < head.col; i++) {\n        this.grid[tail.row][i].role = Role.Body;\n        this.grid[head.row][i].role = Role.Body;\n      }\n    } else if (tail.col === head.col) {\n      // vertical snake\n      for (let i = tail.row + 1; i < head.row; i++) {\n        this.grid[i][tail.col].role = Role.Body;\n        this.grid[i][tail.col].role = Role.Body;\n      }\n    } else {\n      throw new Error(\"Snake init invalid\");\n    }\n    this.setRandomBytePositions();\n  }\n\n  // sprinkles the next word on the grid\n  public setRandomBytePositions() {\n    this.currentBytes = this.bytes.getNextWord();\n    const { head } = this.snake.getSnakeEnds();\n    const currentHeadDir = this.grid[head.row][head.col].direction;\n    const delta = 3;\n\n    for (let i = 0; i < this.currentBytes.length; i++) {\n      do {\n        let randomRow = Math.floor(Math.random() * this.gridSize);\n        let randomCol = Math.floor(Math.random() * this.gridSize);\n\n        if (this.grid[randomRow][randomCol].role === Role.Canvas) {\n          let horizontalDistance = Math.abs(randomCol - head.col);\n          let verticalDistance = Math.abs(randomRow - head.row);\n\n          switch (currentHeadDir) {\n            case Direction.Right:\n            case Direction.Left:\n            case Direction.None:\n              if (horizontalDistance <= delta && randomRow === head.row) {\n                console.log(\"too close to head, horz\");\n                continue;\n              }\n              break;\n\n            case Direction.Up:\n            case Direction.Down:\n              if (verticalDistance <= delta && randomCol === head.col) {\n                console.log(\"too close to head, vertical\");\n                continue;\n              }\n              break;\n            default:\n              throw new Error(\"Head direction default!\");\n          }\n\n          this.grid[randomRow][randomCol].role = Role.Byte;\n          this.grid[randomRow][randomCol].letter = this.currentBytes\n            .charAt(i)\n            .toUpperCase();\n          this.grid[randomRow][randomCol].letterIndex = i;\n\n          if (i < this.hintsPerWord)\n            this.hintList[i] = { row: randomRow, column: randomCol };\n\n          break;\n        } else {\n          console.log(\"Invalid random position\");\n        }\n      } while (1);\n    }\n  }\n\n  public getLetterIndex(): number {\n    return this.letterIndex;\n  }\n\n  public incrementLetterIndex() {\n    // increment index in a circular manner 0-4 and back to 0\n    this.letterIndex = (this.letterIndex + 1) % this.currentBytes.length;\n  }\n\n  public getExpectedLetter(): string {\n    const expected = this.currentBytes.charAt(this.letterIndex);\n    return expected;\n  }\n\n  public getCurrentBytes(): string {\n    return this.currentBytes;\n  }\n\n  // set the role of hinted byte on the lowest index\n  public setHint(): void {\n    const index = this.getLetterIndex();\n    if (index < this.hintsPerWord) {\n      this.grid[this.hintList[index].row][this.hintList[index].column].role =\n        Role.HintedByte;\n    }\n  }\n\n  public resetHint(): void {\n    for (let i = 0; i < this.hintsPerWord; i++) {\n      if (\n        this.grid[this.hintList[i].row][this.hintList[i].column].role ===\n        Role.HintedByte\n      )\n        this.grid[this.hintList[i].row][this.hintList[i].column].role =\n          Role.Byte;\n    }\n  }\n\n  public getHintsPerWord(): number {\n    return this.hintsPerWord;\n  }\n} // end of grid\n","import React from \"react\";\nimport \"./style/byte.css\";\n\ninterface IByteProps {\n  letter: string;\n}\nexport const Byte: React.FunctionComponent<IByteProps> = React.memo((props) => {\n  const { letter } = props;\n  return <div className=\"byteLetter\">{letter}</div>;\n});\n","export const byteList: string[] = [\n  \"about\",\n  \"above\",\n  \"actor\",\n  \"acute\",\n  \"admit\",\n  \"adopt\",\n  \"adult\",\n  \"after\",\n  \"again\",\n  \"agent\",\n  \"ahead\",\n  \"album\",\n  \"alive\",\n  \"allow\",\n  \"apart\",\n  \"apple\",\n  \"arena\",\n  \"array\",\n  \"audio\",\n  \"audit\",\n  \"avoid\",\n  \"award\",\n  \"aware\",\n  \"awful\",\n  \"bases\",\n  \"basic\",\n  \"beach\",\n  \"begun\",\n  \"bench\",\n  \"birth\",\n  \"black\",\n  \"blind\",\n  \"block\",\n  \"booth\",\n  \"bound\",\n  \"brand\",\n  \"brave\",\n  \"breed\",\n  \"bring\",\n  \"brown\",\n  \"build\",\n  \"built\",\n  \"burst\",\n  \"buyer\",\n  \"cable\",\n  \"carry\",\n  \"catch\",\n  \"chair\",\n  \"chart\",\n  \"check\",\n  \"child\",\n  \"civil\",\n  \"claim\",\n  \"class\",\n  \"clear\",\n  \"click\",\n  \"climb\",\n  \"clock\",\n  \"coach\",\n  \"count\",\n  \"court\",\n  \"cover\",\n  \"craft\",\n  \"crazy\",\n  \"cross\",\n  \"crowd\",\n  \"crown\",\n  \"curve\",\n  \"daily\",\n  \"dated\",\n  \"delay\",\n  \"depth\",\n  \"dirty\",\n  \"doubt\",\n  \"draft\",\n  \"drawn\",\n  \"dress\",\n  \"drill\",\n  \"drink\",\n  \"eight\",\n  \"elite\",\n  \"empty\",\n  \"enemy\",\n  \"enjoy\",\n  \"entry\",\n  \"error\",\n  \"event\",\n  \"exact\",\n  \"extra\",\n  \"faith\",\n  \"fault\",\n  \"fight\",\n  \"final\",\n  \"fixed\",\n  \"flash\",\n  \"fleet\",\n  \"floor\",\n  \"fluid\",\n  \"focus\",\n  \"force\",\n  \"forum\",\n  \"frame\",\n  \"frank\",\n  \"fraud\",\n  \"fresh\",\n  \"front\",\n  \"fruit\",\n  \"fully\",\n  \"funny\",\n  \"given\",\n  \"going\",\n  \"grace\",\n  \"grand\",\n  \"grant\",\n  \"grass\",\n  \"gross\",\n  \"group\",\n  \"guard\",\n  \"guess\",\n  \"guide\",\n  \"happy\",\n  \"heavy\",\n  \"hence\",\n  \"house\",\n  \"human\",\n  \"image\",\n  \"input\",\n  \"issue\",\n  \"joint\",\n  \"judge\",\n  \"knife\",\n  \"known\",\n  \"label\",\n  \"laugh\",\n  \"leave\",\n  \"legal\",\n  \"level\",\n  \"light\",\n  \"limit\",\n  \"local\",\n  \"logic\",\n  \"loose\",\n  \"lucky\",\n  \"lunch\",\n  \"lying\",\n  \"magic\",\n  \"major\",\n  \"maker\",\n  \"marry\",\n  \"match\",\n  \"metal\",\n  \"might\",\n  \"minor\",\n  \"mixed\",\n  \"model\",\n  \"money\",\n  \"month\",\n  \"motor\",\n  \"mouth\",\n  \"movie\",\n  \"music\",\n  \"naval\",\n  \"newly\",\n  \"novel\",\n  \"occur\",\n  \"often\",\n  \"paper\",\n  \"party\",\n  \"peace\",\n  \"phone\",\n  \"photo\",\n  \"piece\",\n  \"pilot\",\n  \"pitch\",\n  \"place\",\n  \"plain\",\n  \"plant\",\n  \"pound\",\n  \"power\",\n  \"press\",\n  \"price\",\n  \"prime\",\n  \"print\",\n  \"prior\",\n  \"prize\",\n  \"proof\",\n  \"proud\",\n  \"queen\",\n  \"quick\",\n  \"rapid\",\n  \"ratio\",\n  \"reach\",\n  \"reply\",\n  \"river\",\n  \"robin\",\n  \"rough\",\n  \"round\",\n  \"royal\",\n  \"rugby\",\n  \"rural\",\n  \"sheep\",\n  \"sheer\",\n  \"shell\",\n  \"shift\",\n  \"shirt\",\n  \"short\",\n  \"shown\",\n  \"sight\",\n  \"since\",\n  \"sized\",\n  \"sorry\",\n  \"spend\",\n  \"spent\",\n  \"stand\",\n  \"steep\",\n  \"stock\",\n  \"stuff\",\n  \"style\",\n  \"taken\",\n  \"taxes\",\n  \"teeth\",\n  \"thank\",\n  \"theft\",\n  \"their\",\n  \"theme\",\n  \"thick\",\n  \"think\",\n  \"third\",\n  \"threw\",\n  \"tight\",\n  \"title\",\n  \"total\",\n  \"track\",\n  \"train\",\n  \"trend\",\n  \"truck\",\n  \"truly\",\n  \"truth\",\n  \"twice\",\n  \"uncle\",\n  \"undue\",\n  \"union\",\n  \"unity\",\n  \"upper\",\n  \"vague\",\n  \"valid\",\n  \"value\",\n  \"video\",\n  \"virus\",\n  \"visit\",\n  \"vital\",\n  \"voice\",\n  \"watch\",\n  \"water\",\n  \"wheel\",\n  \"which\",\n  \"while\",\n  \"whole\",\n  \"woman\",\n  \"women\",\n  \"world\",\n  \"worry\",\n  \"would\",\n  \"wound\",\n  \"write\",\n  \"young\",\n  \"youth\",\n];\n","import { byteList } from \"./byteList\";\n\nexport class Bytes {\n  private byteList: string[] = [];\n  private index: number = 0;\n\n  public shuffle(array: string[]) {\n    console.log(\"this should be called only once\");\n    let currentIndex = array.length;\n    let randomIndex;\n\n    // While there remain elements to shuffle.\n    while (currentIndex !== 0) {\n      // Pick a remaining element.\n      randomIndex = Math.floor(Math.random() * currentIndex);\n      currentIndex--;\n\n      // And swap it with the current element.\n      [array[currentIndex], array[randomIndex]] = [\n        array[randomIndex],\n        array[currentIndex],\n      ];\n    }\n\n    return array;\n  }\n  public constructor() {\n    const storageByteList = localStorage.getItem(\"byteList\");\n    if (storageByteList) {\n      this.byteList = JSON.parse(storageByteList);\n    } else {\n      this.byteList = this.shuffle(byteList);\n      localStorage.setItem(\"byteList\", JSON.stringify(this.byteList));\n    }\n\n    const storageIndex = localStorage.getItem(\"byteIndex\");\n    if (storageIndex) {\n      this.index = JSON.parse(storageIndex);\n    } else {\n      this.index = 0;\n      localStorage.setItem(\"byteIndex\", JSON.stringify(this.index));\n    }\n  }\n\n  public getNextWord(): string {\n    const nextWord = this.byteList[this.index];\n    this.index = (this.index + 1) % this.byteList.length;\n    localStorage.setItem(\"byteIndex\", JSON.stringify(this.index));\n    return nextWord;\n  }\n}\n","// Snake metadata\n\nexport interface ISnakeEnds {\n  tail: { row: number; col: number };\n  head: { row: number; col: number };\n}\n\nexport class Snake {\n  private snakeEnds: ISnakeEnds = {\n    tail: { row: 5, col: 5 },\n    head: { row: 5, col: 10 },\n  };\n\n  public resetSnakeEnds() {\n    this.setSnakeEnds({\n      tail: { row: 5, col: 5 },\n      head: { row: 5, col: 10 },\n    });\n  }\n\n  public getSnakeEnds(): ISnakeEnds {\n    return this.snakeEnds;\n  }\n\n  public setSnakeEnds(snakeEnds: ISnakeEnds): void {\n    this.snakeEnds = snakeEnds;\n  }\n\n  public snakeAlive(): boolean {\n    // TBD check if the snake head is not collided with a body/tail\n    return true;\n  }\n\n  public snakeLength(): number {\n    // TBD - return the number of grid locations\n    return 4;\n  }\n}\n","import React from \"react\";\nimport { Byte } from \"./byte\";\nimport { Direction, Role } from \"./grid\";\nimport \"./style/box.css\";\n\ninterface IBoxProps {\n  id: number;\n  role: Role;\n  letter: string;\n  letterIndex?: number;\n  currentHeadDirection?: Direction;\n  currentTailDirection?: Direction;\n  currentTailPivot?: Direction;\n}\n\nexport const Box: React.FunctionComponent<IBoxProps> = React.memo((props) => {\n  const {\n    role,\n    letter,\n    letterIndex,\n    currentHeadDirection,\n    currentTailDirection,\n    currentTailPivot,\n  } = props;\n\n  const getClassNameFromDirection = (dir: Direction | undefined) => {\n    switch (dir) {\n      case Direction.Down:\n        return \"t2b\";\n      case Direction.Up:\n        return \"b2t\";\n      case Direction.Left:\n        return \"r2l\";\n      case Direction.Right:\n        return \"l2r\";\n      case Direction.None:\n        alert(\"this should never hit\");\n        return \"none\";\n      default:\n        throw new Error(\"invalid dir\");\n    }\n  };\n\n  const getClassName = (): string => {\n    switch (role) {\n      case Role.FirstTail:\n      case Role.Canvas:\n        return \"box\";\n      case Role.Head:\n        return `head_${getClassNameFromDirection(currentHeadDirection)}`;\n      case Role.FirstHead:\n        return \"head_none\";\n      case Role.Body:\n        return \"snake\";\n      case Role.WrongBody:\n        return \"wrongBody\";\n      case Role.Tail:\n        return `tail_${getClassNameFromDirection(\n          currentTailPivot !== Direction.None\n            ? currentTailPivot\n            : currentTailDirection\n        )}`;\n      case Role.Byte:\n        return \"byte\";\n      case Role.HintedByte:\n        return \"hintedByte\";\n      case Role.WrongByte:\n        return \"wrongByte\";\n      case Role.CorrectByte:\n        return \"correctByte\";\n      default:\n        throw new Error(\"invalid role\");\n    }\n  };\n\n  let className = getClassName();\n\n  if (className.startsWith(\"byte\")) {\n    className = `byte byte${\n      letterIndex !== undefined && letterIndex >= 0\n        ? letterIndex.toString()\n        : \"\"\n    }`;\n  }\n\n  return className.startsWith(\"byte\") ||\n    className === \"hintedByte\" ||\n    className === \"correctByte\" ||\n    className === \"wrongByte\" ? (\n    <div className={className}>\n      <Byte letter={letter} />\n    </div>\n  ) : (\n    <div className={className}></div>\n  );\n});\n","import React from \"react\";\nimport { Box } from \"./box\";\nimport { Direction, IGridItem, Role } from \"./grid\";\nimport \"./style/grid.css\";\n\ninterface IGridRendererProps {\n  grid: IGridItem[][];\n  currentHeadDirection: Direction;\n  currentTailDirection: Direction;\n  currentTailPivot: Direction;\n}\n\nexport const GridRenderer: React.FunctionComponent<IGridRendererProps> = (\n  props\n) => {\n  const { grid, currentHeadDirection, currentTailDirection, currentTailPivot } =\n    props;\n\n  return (\n    <div className={\"grid\"}>\n      {grid.flat().map((item, index) => (\n        <Box\n          role={item.role}\n          letter={item.letter}\n          id={index}\n          key={index}\n          letterIndex={\n            item.letter !== \"\" && item.letterIndex !== -1\n              ? item.letterIndex\n              : undefined\n          }\n          currentHeadDirection={\n            item.role === Role.Head ? currentHeadDirection : undefined\n          }\n          currentTailDirection={\n            item.role === Role.Tail ? currentTailDirection : undefined\n          }\n          currentTailPivot={\n            item.role === Role.Tail ? currentTailPivot : undefined\n          }\n        />\n      ))}\n    </div>\n  );\n};\n","import { IGridItem, Role, Direction } from \"../grid\";\nimport \"../style/debug/debugBox.css\";\n\nconst getStringRole = (role: Role): string => {\n  switch (role) {\n    case Role.Body:\n      return \"b \";\n    case Role.Head:\n      return \"h \";\n    case Role.Tail:\n      return \"t \";\n    case Role.Canvas:\n      return \"c \";\n    case Role.Byte:\n      return \"f \";\n    default:\n      throw new Error(\"invalid role\");\n  }\n};\n\nconst getStringDirection = (direction: Direction): string => {\n  switch (direction) {\n    case Direction.Down:\n      return \"d \";\n    case Direction.Up:\n      return \"u \";\n    case Direction.Left:\n      return \"l \";\n    case Direction.Right:\n      return \"r \";\n    case Direction.None:\n      return \"n \";\n    default:\n      throw new Error(\"invalid direction\");\n  }\n};\n\nexport const DebugBox: React.FunctionComponent<IGridItem> = (props) => {\n  const { role, direction, pivot } = props;\n  return (\n    <div className={\"debugBox\"}>\n      {role > 0 ? getStringRole(role) : null}\n      {direction > 0 ? getStringDirection(direction) : null}\n      {role > 0 ? getStringDirection(pivot).toUpperCase() : null}\n    </div>\n  );\n};\n","import React from \"react\";\nimport { DebugBox } from \"./debugBox\";\nimport { IGridItem } from \"../grid\";\n\nimport \"../style/debug/debugGrid.css\";\n\ninterface IDebugGridProps {\n  grid: IGridItem[][];\n}\n\nexport const DebugGrid: React.FunctionComponent<IDebugGridProps> = (props) => {\n  const { grid } = props;\n  return (\n    <div className={\"debugGrid\"}>\n      {grid.flat().map((item, index) => (\n        <DebugBox\n          letterIndex={item.letterIndex}\n          key={index}\n          role={item.role}\n          letter={item.letter}\n          direction={item.direction}\n          pivot={item.pivot}\n        />\n      ))}\n    </div>\n  );\n};\n","import \"./style/wordTiles.css\";\nimport \"./style/tile.css\";\nimport React from \"react\";\n\ninterface IWordTileProps {\n  bytes: string;\n  score: number;\n}\n\ninterface INumberTileProps {\n  score: number;\n}\n\ninterface ILetterTileProps {\n  bytes: string;\n}\n\nexport const NumberTiles: React.FunctionComponent<INumberTileProps> =\n  React.memo((props: INumberTileProps) => {\n    return (\n      <div className=\"tileContainer\">\n        {[...props.score.toString()].map((digit, index) => (\n          <div key={index} className={\"tile number\"}>\n            {digit}\n          </div>\n        ))}\n      </div>\n    );\n  });\n\nexport const LetterTiles: React.FunctionComponent<ILetterTileProps> =\n  React.memo((props: ILetterTileProps) => {\n    return (\n      <div className=\"tileContainer\">\n        {[...props.bytes].map((letter, index) => (\n          <div key={index} className={\"tile letter\"}>\n            {letter}\n          </div>\n        ))}\n      </div>\n    );\n  });\n\nexport const WordTiles: React.FunctionComponent<IWordTileProps> = React.memo(\n  (props: IWordTileProps) => {\n    return (\n      <div className={\"wordTilesContainer\"}>\n        {props.bytes ? <LetterTiles bytes={props.bytes} /> : null}\n        {props.score > 0 ? <NumberTiles score={props.score} /> : null}\n      </div>\n    );\n  }\n);\n","import React from \"react\";\nimport \"./style/banner.css\";\n\ninterface IBannerProps {\n  text: string;\n}\nexport const Banner: React.FunctionComponent<IBannerProps> = React.memo(\n  (props) => {\n    const { text } = props;\n\n    return text !== \"Text\" ? (\n      <div className=\"banner openBanner\">{text}</div>\n    ) : (\n      <div className=\"banner closedBanner\">{text}</div>\n    );\n  }\n);\n","export class Score {\n  private static instance: Score;\n  private constructor() {}\n  private currentScore = 0;\n  //   private goldScore = 0;\n  //   private silverScore = 0;\n  //   private bronzeScore = 0;\n  public setCurrentScore(score: number) {\n    this.currentScore = score;\n  }\n  public getCurrentScore() {\n    return this.currentScore;\n  }\n  public static getInstance() {\n    if (!Score.instance) {\n      Score.instance = new Score();\n    }\n    return Score.instance;\n  }\n}\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\n//import { Button } from \"./button\";\nimport { useInterval } from \"./useInterval\";\nimport { GridRenderer } from \"./gridRenderer\";\nimport { useSwipeable } from \"react-swipeable\";\nimport { Grid, Direction, Role } from \"./grid\";\nimport { DebugGrid } from \"./debug/debugGrid\";\nimport \"./style/gridContainer.css\";\nimport { WordTiles } from \"./wordtiles\";\nimport { Banner } from \"./banner\";\nimport { Score } from \"./scores\";\n\nconst showBannerAfterMs = 7000;\nconst hideBannerAfterMs = 3200; // if you change this , also change the banner.css animation to Xs\n// move this to a useEffect\nconst root = document.querySelector(\":root\")!;\nconst rootStyle = getComputedStyle(root);\n\nconst tickCount = rootStyle.getPropertyValue(\"--tick\");\nlet tickCountMs = parseFloat(tickCount.substr(0, tickCount.length - 1)) * 1000;\n\nconst url: URL = new URL(window.location.href);\nconst urlSearchParams = new URLSearchParams(url.search);\nconst gridObj = new Grid();\ngridObj.initGridData();\n\nconst gridSize = gridObj.getGridSize();\nconst grid = gridObj.getGrid();\n\nconst pointsPerWord = 10;\nlet score = 0;\nlet currentLetter = \"\";\nconst hintTimeoutMs = 14 * 1000;\n\ninterface IGridContainer {\n  modalTitle: string;\n  onGameEnd: () => void;\n}\nexport const GridContainer: React.FunctionComponent<IGridContainer> = (\n  props\n) => {\n  const { modalTitle, onGameEnd } = props;\n  const [snakeEnds, setSnakeEnds] = useState(gridObj.getSnake().getSnakeEnds());\n  const [playing, setPlaying] = useState(false);\n  const [debug, setDebug] = useState(false);\n  const [bannerText, setBannerText] = useState(\"Text\");\n\n  let movePending = false;\n  const hints = localStorage.getItem(\"hints\");\n  const progressiveSpeed = localStorage.getItem(\"progressiveSpeed\");\n  const hintsOn = hints ? JSON.parse(hints) : \"true\";\n  const progressiveSpeedOn = progressiveSpeed\n    ? JSON.parse(progressiveSpeed)\n    : \"true\";\n  let hintsTimeOutId: any = useRef(null);\n  let startDate: any = useRef(null);\n  let playingRef = useRef(playing);\n  // add logic in these to detect game end\n  const onSwipedLeft = () => {\n    if (movePending) return;\n\n    if (!playing) {\n      handleOnPlayPauseGame();\n      return;\n    }\n\n    const currentHeadDir = gridObj.getCurrentHeadDirection();\n    if (currentHeadDir === Direction.Left || currentHeadDir === Direction.Right)\n      return;\n    gridObj.setCurrentHeadDirection(Direction.Left);\n    gridObj.setPivotOnCurrentHeadDirection(Direction.Left);\n    movePending = true;\n  };\n\n  const onSwipedRight = () => {\n    if (movePending) return;\n    if (!playing) {\n      handleOnPlayPauseGame();\n      return;\n    }\n    const currentHeadDir = gridObj.getCurrentHeadDirection();\n    if (currentHeadDir === Direction.Left || currentHeadDir === Direction.Right)\n      return;\n    gridObj.setCurrentHeadDirection(Direction.Right);\n    gridObj.setPivotOnCurrentHeadDirection(Direction.Right);\n    movePending = true;\n  };\n\n  const onSwipedUp = () => {\n    if (movePending) return;\n    if (!playing) {\n      handleOnPlayPauseGame();\n      return;\n    }\n    const currentHeadDir = gridObj.getCurrentHeadDirection();\n    if (currentHeadDir === Direction.Down || currentHeadDir === Direction.Up)\n      return;\n    gridObj.setCurrentHeadDirection(Direction.Up);\n    gridObj.setPivotOnCurrentHeadDirection(Direction.Up);\n    movePending = true;\n  };\n\n  const onSwipedDown = () => {\n    if (movePending) return;\n    if (!playing) {\n      handleOnPlayPauseGame();\n      return;\n    }\n    const currentHeadDir = gridObj.getCurrentHeadDirection();\n\n    if (currentHeadDir === Direction.Down || currentHeadDir === Direction.Up)\n      return;\n    gridObj.setCurrentHeadDirection(Direction.Down);\n    gridObj.setPivotOnCurrentHeadDirection(Direction.Down);\n    movePending = true;\n  };\n\n  const resetGameToStart = () => {\n    currentLetter = gridObj.getCurrentBytes().toUpperCase();\n    setPlaying(false);\n    playingRef.current = false;\n    Score.getInstance().setCurrentScore(score);\n\n    // wait 4s, then show the stats dialog, then wait 500ms and clear the game state.\n    setTimeout(() => {\n      onGameEnd(); //this shows the stats\n      setTimeout(() => {\n        gridObj.getSnake().resetSnakeEnds();\n        gridObj.resetGrid();\n        gridObj.initGridData();\n        setSnakeEnds(gridObj.getSnake().getSnakeEnds());\n\n        clearTimeout(hintsTimeOutId);\n        startDate.current = null;\n        score = 0;\n        currentLetter = \"\";\n        tickCountMs = 500;\n        const root = document.querySelector<HTMLElement>(\":root\")!;\n        root.style.setProperty(\"--tick\", \"0.5s\");\n      }, 500);\n    }, 3000);\n  };\n\n  const calculateScore = () => {\n    const endDate = new Date();\n    const seconds = Math.abs(\n      (endDate.getTime() - startDate.current.getTime()) / 1000\n    );\n    const bonus = Math.floor(100 / seconds);\n    score += pointsPerWord;\n    score += bonus >= 2 ? bonus : 0; //min bonus of 2 is needed.\n    switch (bonus) {\n      case 3:\n        setBannerText(\"Speedy\");\n        setTimeout(() => setBannerText(\"Text\"), hideBannerAfterMs);\n        break;\n      case 4:\n        setBannerText(\"Swift !\");\n        setTimeout(() => setBannerText(\"Text\"), hideBannerAfterMs);\n        break;\n      case 5:\n        setBannerText(\"Electric !!\");\n        setTimeout(() => setBannerText(\"Text\"), hideBannerAfterMs);\n        break;\n      case 6:\n        setBannerText(\"Supersonic !!\");\n        setTimeout(() => setBannerText(\"Text\"), hideBannerAfterMs);\n        break;\n      default: {\n        if (bonus > 6) {\n          setBannerText(\"Hypersonic !!!\");\n          setTimeout(() => setBannerText(\"Text\"), hideBannerAfterMs);\n          break;\n        }\n      }\n    }\n\n    // refresh the new start date\n    startDate.current = new Date();\n  };\n\n  const increaseSpeed = () => {\n    if (progressiveSpeedOn) {\n      const root = document.querySelector<HTMLElement>(\":root\")!;\n      if (score >= 50 && score <= 80 && tickCountMs === 500) {\n        root.style.setProperty(\"--tick\", \"0.4s\");\n        tickCountMs = 400;\n      } else if (score > 80 && tickCountMs === 400) {\n        root.style.setProperty(\"--tick\", \"0.3s\");\n        tickCountMs = 300;\n      }\n    }\n  };\n\n  const calculateNewHead = (ends: typeof snakeEnds) => {\n    /* ========================= HEAD ==============================*/\n    const currentHeadRow = snakeEnds.head.row;\n    const currentHeadCol = snakeEnds.head.col;\n    const currentHeadDir = gridObj.getCurrentHeadDirection();\n\n    grid[currentHeadRow][currentHeadCol].role = Role.Body; // make current head -> snake body\n    grid[currentHeadRow][currentHeadCol].direction = Direction.None; // make current head's dir none\n\n    // now calculate the new position (row, col) for head based on the current head direction.\n    let newHeadRow = currentHeadRow;\n    let newHeadCol = currentHeadCol;\n\n    switch (currentHeadDir) {\n      case Direction.Up: {\n        newHeadRow =\n          snakeEnds.head.row - 1 < 0 ? gridSize - 1 : snakeEnds.head.row - 1;\n        break;\n      }\n      case Direction.Down: {\n        newHeadRow =\n          snakeEnds.head.row + 1 >= gridSize ? 0 : snakeEnds.head.row + 1;\n        break;\n      }\n      case Direction.Right: {\n        newHeadCol =\n          snakeEnds.head.col + 1 >= gridSize ? 0 : snakeEnds.head.col + 1;\n        break;\n      }\n      case Direction.Left: {\n        newHeadCol =\n          snakeEnds.head.col - 1 < 0 ? gridSize - 1 : snakeEnds.head.col - 1;\n        break;\n      }\n      default: {\n        grid[newHeadRow][newHeadCol].role = Role.WrongBody;\n        resetGameToStart();\n        return;\n      }\n    }\n    ends.head.row = newHeadRow;\n    ends.head.col = newHeadCol;\n\n    // check if new Head is a valid role\n    switch (grid[newHeadRow][newHeadCol].role) {\n      case Role.Tail:\n      case Role.Canvas: {\n        grid[newHeadRow][newHeadCol].role = Role.Head; // canvas -> head'\n        break;\n      }\n      case Role.HintedByte:\n      case Role.Byte: {\n        const expected = gridObj.getExpectedLetter().toUpperCase();\n        const landed = grid[newHeadRow][newHeadCol].letter;\n\n        // Landed on incorrect byte\n        if (landed !== expected) {\n          grid[newHeadRow][newHeadCol].role = Role.WrongByte;\n          resetGameToStart();\n          return;\n        }\n\n        grid[newHeadRow][newHeadCol].role = Role.CorrectByte;\n\n        currentLetter =\n          gridObj.getLetterIndex() > 0 ? currentLetter + landed : landed;\n        gridObj.incrementLetterIndex();\n\n        // new word\n        const letterIndex = gridObj.getLetterIndex();\n        if (letterIndex === 0) {\n          gridObj.setRandomBytePositions();\n\n          calculateScore();\n          resetHintTimer();\n          increaseSpeed();\n        } else if (letterIndex <= gridObj.getHintsPerWord()) {\n          resetHintTimer();\n        }\n        break;\n      }\n      default:\n        grid[newHeadRow][newHeadCol].role = Role.WrongBody;\n        resetGameToStart();\n        return;\n    }\n\n    grid[newHeadRow][newHeadCol].direction = currentHeadDir; // retain previous head's dir in the new head\n  };\n\n  const isHeadOnByte = (ends: typeof snakeEnds): boolean => {\n    const currentHeadRow = snakeEnds.head.row;\n    const currentHeadCol = snakeEnds.head.col;\n\n    switch (grid[currentHeadRow][currentHeadCol].role) {\n      case Role.Byte:\n      case Role.HintedByte:\n      case Role.CorrectByte:\n        return true;\n    }\n\n    return false;\n  };\n\n  const calculateNewTail = (ends: typeof snakeEnds) => {\n    // no-op if the head is on a byte\n    if (isHeadOnByte(snakeEnds)) {\n      return;\n    }\n\n    /* ========================= TAIL ==============================*/\n    const currentTailRow = snakeEnds.tail.row;\n    const currentTailCol = snakeEnds.tail.col;\n    const pivotDir = grid[currentTailRow][currentTailCol].pivot;\n    // override current tail direction if there is a pivot direction left behind by the head at some point.\n    const currentTailDir =\n      pivotDir !== Direction.None\n        ? pivotDir\n        : gridObj.getCurrentTailDirection();\n\n    grid[currentTailRow][currentTailCol].role = Role.Canvas; // tail -> canvas\n    grid[currentTailRow][currentTailCol].direction = Direction.None; // tail -> canvas dir\n\n    if (pivotDir !== Direction.None)\n      grid[currentTailRow][currentTailCol].pivot = Direction.None; // clear pivots as the tail arrives\n\n    let newTailRow = currentTailRow;\n    let newTailCol = currentTailCol;\n\n    // now calculate the new position (row, col) for tail based on the current tail direction.\n    switch (currentTailDir) {\n      case Direction.Up: {\n        newTailRow =\n          snakeEnds.tail.row - 1 < 0 ? gridSize - 1 : snakeEnds.tail.row - 1;\n        break;\n      }\n      case Direction.Down: {\n        newTailRow =\n          snakeEnds.tail.row + 1 >= gridSize ? 0 : snakeEnds.tail.row + 1;\n        break;\n      }\n      case Direction.Right: {\n        newTailCol =\n          snakeEnds.tail.col + 1 >= gridSize ? 0 : snakeEnds.tail.col + 1;\n        break;\n      }\n      case Direction.Left: {\n        newTailCol =\n          snakeEnds.tail.col - 1 < 0 ? gridSize - 1 : snakeEnds.tail.col - 1;\n        break;\n      }\n      default: {\n        const error = \"Invalid tail direction!\";\n        alert(error);\n        resetGameToStart();\n        return;\n      }\n    }\n\n    ends.tail.row = newTailRow;\n    ends.tail.col = newTailCol;\n    grid[newTailRow][newTailCol].role = Role.Tail; // body -> tail\n    grid[newTailRow][newTailCol].direction = currentTailDir;\n  };\n\n  // calcualte the new snake ends, and assign new roles as necessary\n  const getNewEnds = (ends: typeof snakeEnds) => {\n    calculateNewTail(ends);\n    calculateNewHead(ends);\n    return ends;\n  };\n\n  const onTick = () => {\n    let ends = { ...snakeEnds };\n    // set new roles on the new ends\n    const newEnds = getNewEnds(ends);\n    setSnakeEnds(newEnds);\n    // set new ends\n    gridObj.getSnake().setSnakeEnds(ends);\n    movePending = false;\n  };\n\n  useInterval(\n    onTick,\n    // Delay in milliseconds or null to stop it\n    playing ? tickCountMs : null\n  );\n\n  const resetHintTimer = useCallback(() => {\n    clearTimeout(hintsTimeOutId.current);\n    gridObj.resetHint();\n    const letterIndex = gridObj.getLetterIndex();\n    if (hintsOn && letterIndex < gridObj.getHintsPerWord()) {\n      hintsTimeOutId.current = setTimeout(onHintTimer, hintTimeoutMs);\n    }\n  }, [hintsOn]);\n\n  useEffect(() => {\n    if (modalTitle !== \"\") {\n      clearTimeout(hintsTimeOutId.current);\n      setPlaying(false);\n      playingRef.current = false;\n    }\n    if (!hintsOn) {\n      resetHintTimer();\n    }\n  }, [modalTitle, hintsOn, resetHintTimer]);\n\n  useEffect(() => {\n    if (!playing && modalTitle === \"\" && currentLetter === \"\") {\n      setTimeout(() => {\n        if (!playingRef.current && modalTitle === \"\") {\n          setBannerText(\"Swipe anywhere to start\");\n          setTimeout(() => setBannerText(\"Text\"), hideBannerAfterMs);\n        }\n      }, showBannerAfterMs);\n    }\n  }, [playing, modalTitle]);\n\n  const onHintTimer = () => {\n    gridObj.setHint();\n  };\n\n  const handleOnPlayPauseGame = useCallback(() => {\n    if (modalTitle !== \"\") {\n      // pause and return\n      setPlaying(false);\n      playingRef.current = false;\n      return;\n    }\n\n    if (!playing) {\n      const currentTailDir = gridObj.getCurrentTailDirection();\n      const currentHeadDir = gridObj.getCurrentHeadDirection();\n      // on play first time\n      if (\n        currentHeadDir === Direction.None &&\n        currentTailDir === Direction.None\n      ) {\n        gridObj.setCurrentTailDirection(Direction.Right);\n        gridObj.setCurrentHeadDirection(Direction.Right);\n      }\n      if (!startDate.current) startDate.current = new Date();\n      resetHintTimer();\n    }\n\n    // here is where we set playing to true\n    playingRef.current = !playing;\n    setPlaying((playing) => !playing);\n  }, [playing, modalTitle, resetHintTimer]);\n\n  const handleOnDebug = useCallback(() => {\n    setDebug((debug) => !debug);\n  }, []);\n\n  const isDebugMode = () => {\n    return urlSearchParams.get(\"debug\") === \"true\";\n  };\n\n  const handlers = useSwipeable({\n    onSwipedLeft: onSwipedLeft,\n    onSwipedRight: onSwipedRight,\n    onSwipedDown: onSwipedDown,\n    onSwipedUp: onSwipedUp,\n    // onTap: () => {\n    //   console.log(\"swallow tap\");\n    // },\n    preventDefaultTouchmoveEvent: true,\n    trackMouse: true,\n  });\n\n  return (\n    <div {...handlers} className={\"game\"}>\n      <div className={\"gridContainer\"}>\n        <Banner text={bannerText} />\n        {debug ? (\n          <DebugGrid grid={grid} />\n        ) : (\n          <GridRenderer\n            grid={grid}\n            currentHeadDirection={gridObj.getCurrentHeadDirection()}\n            currentTailDirection={gridObj.getCurrentTailDirection()}\n            currentTailPivot={gridObj.getPivotDirectionOnCurrentTail()}\n          />\n        )}\n        <WordTiles bytes={currentLetter} score={score} />\n      </div>\n\n      {/* {\n        <div className={\"appUtils\"}>\n          {\n            <Button\n              onClick={handleOnPlayPauseGame}\n              label={playing ? \"Pause\" : \"Play\"}\n            />\n          }\n          {isDebugMode() ? (\n            <Button\n              onClick={handleOnDebug}\n              label={debug ? \"Debug Off\" : \"Debug On\"}\n            />\n          ) : null}\n        </div>\n      }  */}\n    </div>\n  );\n};\n","import { useEffect, useLayoutEffect, useRef } from \"react\"\n\nexport const useInterval = (callback: () => void, delay: number | null) => {\n    const savedCallback = useRef(callback)\n  \n    // Remember the latest callback if it changes.\n    useLayoutEffect(() => {\n      savedCallback.current = callback\n    }, [callback])\n  \n    // Set up the interval.\n    useEffect(() => {\n      // Don't schedule if no delay is specified.\n      if (!delay) {\n        return\n      }\n  \n      const id = setInterval(() => savedCallback.current(), delay)\n  \n      return () => clearInterval(id)\n    }, [delay])\n  }","import React from \"react\";\nimport \"./style/title.css\";\n\ninterface ITitleProps {\n  title: string;\n}\nexport const Title: React.FunctionComponent<ITitleProps> = React.memo(\n  (props) => {\n    return <div className=\"title\">{props.title}</div>;\n  }\n);\n","import React from \"react\";\nimport { Title } from \"./title\";\nimport \"./style/header.css\";\nimport { IconButton } from \"@mui/material\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\n\nimport {\n  SettingsRounded,\n  MenuRounded,\n  HelpRounded,\n  LeaderboardRounded,\n} from \"@mui/icons-material\";\n\n// move this to a useEffect\nconst root = document.querySelector(\":root\")!;\nconst rootStyle = getComputedStyle(root);\n\ninterface IHeader {\n  onClickInstructions: () => void;\n  onClickSettings: () => void;\n  onClickStatistics: () => void;\n}\n\nexport const Header: React.FunctionComponent<IHeader> = (props) => {\n  const outerTheme = createTheme({\n    palette: {\n      primary: {\n        main: rootStyle.getPropertyValue(\"--fontColor\").trim(), // hex versions of --var(fontColor)\n      },\n    },\n  });\n\n  return (\n    <ThemeProvider theme={outerTheme}>\n      <div className={\"header\"}>\n        <div className={\"menuleft\"}>\n          <IconButton aria-label=\"Menu\" color=\"primary\" size=\"small\">\n            <MenuRounded />\n          </IconButton>\n          <IconButton\n            aria-label=\"Instruction\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={props.onClickInstructions}\n          >\n            <HelpRounded />\n          </IconButton>\n        </div>\n        <Title title={\"Snakespeare\"} />\n        <div className={\"menuright\"}>\n          <IconButton\n            aria-label=\"Stats\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={props.onClickStatistics}\n          >\n            <LeaderboardRounded />\n          </IconButton>\n          <IconButton\n            aria-label=\"Settings\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={props.onClickSettings}\n          >\n            <SettingsRounded />\n          </IconButton>\n        </div>\n      </div>\n    </ThemeProvider>\n  );\n};\n","import React from \"react\";\nimport { Title } from \"../../title\";\nimport \"../../style/modalHeader.css\";\n\ninterface IModalHeader {\n  onClick: () => void;\n  title: string;\n}\nexport const ModalHeader: React.FunctionComponent<IModalHeader> = React.memo(\n  (props) => {\n    const { onClick, title } = props;\n    return (\n      <div className={\"modalHeader\"}>\n        <div className={\"titleContainer\"}>\n          <Title title={title} />\n        </div>\n        <button className={\"close\"} onClick={onClick}>\n          {\"x\"}\n        </button>\n      </div>\n    );\n  }\n);\n","import React, { useEffect, useState } from \"react\";\nimport \"../../style/modalPage.css\";\nimport { ModalHeader } from \"./modalHeader\";\n\ninterface IModalPage {\n  onClose: () => void;\n  title: string;\n  isWindow: boolean;\n}\n\nexport const ModalPage: React.FunctionComponent<IModalPage> = React.memo(\n  (props) => {\n    const { onClose, title, isWindow } = props;\n    const [className, setClassName] = useState(\"closed\");\n    const [containerClassName, setContainerClassName] = useState(\n      \"floatingContainerWindow\"\n    );\n\n    useEffect(() => {\n      if (title !== \"\") {\n        setClassName(\"modalOverlayIn\");\n      }\n      if (isWindow) {\n        setContainerClassName(\"floatingContainerWindow\");\n      } else {\n        setContainerClassName(\"floatingContainerFullScreen\");\n      }\n    }, [title, isWindow]);\n\n    return props.children ? (\n      <div className={className}>\n        <div className={containerClassName}>\n          <ModalHeader onClick={onClose} title={title} />\n          {props.children}\n        </div>\n      </div>\n    ) : null;\n  }\n);\n","export default __webpack_public_path__ + \"static/media/snakeSmile.c4c253be.gif\";","import snakeSmile from \"../../snakeSmile.gif\";\nimport \"../../style/instructions.css\";\n\nexport const instructions = (\n  <>\n    <p>Swipe anywhere on the screen to start the game.</p>\n    <p>Make turns by swiping anywhere: up, down, left or right</p>\n    <p>\n      Steer the snake to capture the letters in the correct order and create a 5\n      letter word using the randomly placed letters.\n    </p>\n    <p>Score 10 points per word solved + bonus points for faster solutions.</p>\n\n    <p>Avoid colliding the snake's head with it's own body.</p>\n\n    <img src={snakeSmile} alt={\"funny snake GIF\"} />\n  </>\n);\n","import * as React from \"react\";\nimport Switch from \"@mui/material/Switch\";\nimport \"../../style/settings.css\";\nimport { styled } from \"@mui/material\";\nimport { useEffect, useState } from \"react\";\n\nconst hintsLabel = { inputProps: { \"aria-label\": \"Hints\" } };\nconst colorModeLabel = { inputProps: { \"aria-label\": \"Dark mode\" } };\n\n// move this to a useEffect\nconst root = document.querySelector<HTMLElement>(\":root\")!;\nconst rootStyle = getComputedStyle(root);\n\nconst switchColorMain = rootStyle.getPropertyValue(\"--byteColor\");\nconst switchColorLight = rootStyle.getPropertyValue(\"--snakeColor\");\n\nconst GreenSwitch = styled(Switch)(({ theme }) => ({\n  \"& .MuiSwitch-switchBase.Mui-checked\": {\n    color: switchColorMain.trim(),\n  },\n  \"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track\": {\n    backgroundColor: switchColorMain.trim(),\n  },\n  \"& .MuiSwitch-track\": {\n    backgroundColor: switchColorLight.trim(),\n  },\n}));\n\nexport const Settings: React.FunctionComponent = () => {\n  const darkMode = localStorage.getItem(\"darkMode\");\n  const hints = localStorage.getItem(\"hints\");\n  const progressiveSpeed = localStorage.getItem(\"progressiveSpeed\");\n\n  const [hintsChecked, setHintsChecked] = useState(\n    hints ? JSON.parse(hints) : true\n  );\n  const [darkModeChecked, setDarkModeChecked] = useState(\n    darkMode ? JSON.parse(darkMode) : true\n  );\n  const [progressiveSpeedChecked, setProgressiveSpeedChecked] = useState(\n    progressiveSpeed ? JSON.parse(progressiveSpeed) : true\n  );\n\n  useEffect(() => {\n    if (darkModeChecked) {\n      root.style.setProperty(\n        \"--modalOverlayColor\",\n        rootStyle.getPropertyValue(\"--darkModalOverlay\").trim()\n      );\n      root.style.setProperty(\n        \"--appBackgroundColor\",\n        rootStyle.getPropertyValue(\"--darkBackground\").trim()\n      );\n      root.style.setProperty(\n        \"--statsOverlay\",\n        rootStyle.getPropertyValue(\"--darkStatsOverlay\").trim()\n      );\n      root.style.setProperty(\n        \"--fontColor\",\n        rootStyle.getPropertyValue(\"--darkFont\").trim()\n      );\n      root.style.setProperty(\n        \"--boxBackgroundColor\",\n        rootStyle.getPropertyValue(\"--darkBox\").trim()\n      );\n    } else {\n      root.style.setProperty(\n        \"--modalOverlayColor\",\n        rootStyle.getPropertyValue(\"--lightModalOverlay\").trim()\n      );\n      root.style.setProperty(\n        \"--appBackgroundColor\",\n        rootStyle.getPropertyValue(\"--lightBackground\").trim()\n      );\n      root.style.setProperty(\n        \"--statsOverlay\",\n        rootStyle.getPropertyValue(\"--lightStatsOverlay\").trim()\n      );\n      root.style.setProperty(\n        \"--fontColor\",\n        rootStyle.getPropertyValue(\"--lightFont\").trim()\n      );\n      root.style.setProperty(\n        \"--boxBackgroundColor\",\n        rootStyle.getPropertyValue(\"--lightBox\").trim()\n      );\n    }\n  }, [darkModeChecked]);\n\n  // todo : write to local storage\n  const handleHintsChanged = (event: React.ChangeEvent<HTMLInputElement>) => {\n    try {\n      localStorage.setItem(\"hints\", JSON.stringify(event.target.checked));\n    } catch (e) {\n      console.log(\"cannot write to localStorage \", e);\n    }\n    setHintsChecked(event.target.checked);\n  };\n\n  const handleDarkModeChanged = (\n    event: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    try {\n      localStorage.setItem(\"darkMode\", JSON.stringify(event.target.checked));\n    } catch (e) {\n      console.log(\"cannot write to localStorage \", e);\n    }\n    setDarkModeChecked(event.target.checked);\n  };\n\n  const handleProgressiveSpeedChanged = (\n    event: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    try {\n      localStorage.setItem(\n        \"progressiveSpeed\",\n        JSON.stringify(event.target.checked)\n      );\n    } catch (e) {\n      console.log(\"cannot write to localStorage \", e);\n    }\n    setProgressiveSpeedChecked(event.target.checked);\n  };\n\n  return (\n    <div className=\"settingsContainer\">\n      <div className=\"rowContainer\">\n        <div className=\"settingsTitleContainer\">\n          <div className=\"rowTitle\">{\"Hints\"}</div>\n        </div>\n        <GreenSwitch\n          {...hintsLabel}\n          checked={hintsChecked}\n          onChange={handleHintsChanged}\n        />\n      </div>\n      <div className=\"rowContainer\">\n        <div className=\"settingsTitleContainer\">\n          <div className=\"rowTitle\">{\"Dark mode\"}</div>\n        </div>\n        <GreenSwitch\n          {...colorModeLabel}\n          checked={darkModeChecked}\n          onChange={handleDarkModeChanged}\n        />\n      </div>\n      <div className=\"rowContainer\">\n        <div className=\"settingsTitleContainer\">\n          <div className=\"rowTitle\">{\"Progressive speed\"}</div>\n        </div>\n        <GreenSwitch\n          {...colorModeLabel}\n          checked={progressiveSpeedChecked}\n          onChange={handleProgressiveSpeedChanged}\n        />\n      </div>\n    </div>\n  );\n};\n","var _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgShare(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    width: \"24px\",\n    height: \"24px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"surface309442\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      stroke: \"none\",\n      fillRule: \"nonzero\",\n      fill: \"rgb(100%,100%,100%)\",\n      fillOpacity: 1\n    },\n    d: \"M 18 2 C 16.34375 2 15 3.34375 15 5 C 15 5.1875 15.019531 5.375 15.054688 5.558594 L 7.9375 9.710938 C 7.398438 9.25 6.710938 9 6 9 C 4.34375 9 3 10.34375 3 12 C 3 13.65625 4.34375 15 6 15 C 6.710938 15 7.394531 14.746094 7.9375 14.285156 L 15.054688 18.441406 C 15.019531 18.625 15 18.8125 15 19 C 15 20.65625 16.34375 22 18 22 C 19.65625 22 21 20.65625 21 19 C 21 17.34375 19.65625 16 18 16 C 17.289062 16 16.605469 16.253906 16.0625 16.714844 L 8.945312 12.558594 C 8.980469 12.375 9 12.1875 9 12 C 9 11.8125 8.980469 11.625 8.945312 11.441406 L 16.058594 7.289062 C 16.601562 7.75 17.289062 8 18 8 C 19.65625 8 21 6.65625 21 5 C 21 3.34375 19.65625 2 18 2 Z M 18 2 \"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgShare);\nexport default __webpack_public_path__ + \"static/media/share.5d1c5272.svg\";\nexport { ForwardRef as ReactComponent };","export enum GraphRole {\n  Empty,\n  Podium,\n  Country,\n  Score,\n}\n\nconst ScoreIndexs = {\n  gold: { row: 1, col: 4 },\n  silver: { row: 2, col: 3 },\n  bronze: { row: 3, col: 2 },\n};\n\nconst CountryIndexs = {\n  gold: { row: 1, col: 0 },\n  silver: { row: 2, col: 0 },\n  bronze: { row: 3, col: 0 },\n};\n\nexport type IGraphGridValue = number | string | null;\nexport type IGraphData = { score: number; country: string };\n\nexport interface IGraphGrid {\n  role: GraphRole;\n  value: IGraphGridValue;\n}\n\nexport class GraphGridItem implements IGraphGrid {\n  role = GraphRole.Empty;\n  value: IGraphGridValue = null;\n}\n\nexport class GraphData {\n  private grid: GraphGridItem[][];\n  private gridSize = 5;\n\n  public constructor() {\n    this.grid = new Array(this.gridSize);\n    for (let i = 0; i < this.gridSize; i++) {\n      this.grid[i] = new Array(this.gridSize);\n    }\n\n    for (let i = 0; i < this.gridSize; i++) {\n      for (let j = 0; j < this.gridSize; j++) {\n        this.grid[i][j] = new GraphGridItem();\n      }\n    }\n\n    this.grid[1][0].role =\n      this.grid[2][0].role =\n      this.grid[3][0].role =\n        GraphRole.Country;\n\n    this.grid[1][0].value =\n      this.grid[2][0].value =\n      this.grid[3][0].value =\n        \"US\"; // default value\n\n    this.grid[1][1].role =\n      this.grid[1][2].role =\n      this.grid[1][3].role =\n        GraphRole.Podium;\n\n    this.grid[2][1].role = this.grid[2][2].role = GraphRole.Podium;\n\n    this.grid[3][1].role = GraphRole.Podium;\n\n    this.grid[1][4].role = GraphRole.Score;\n    this.grid[2][3].role = GraphRole.Score;\n    this.grid[3][2].role = GraphRole.Score;\n  }\n\n  public getGoldData(): IGraphData {\n    return {\n      score: this.grid[ScoreIndexs.gold.row][ScoreIndexs.gold.col]\n        .value as number,\n      country: this.grid[CountryIndexs.gold.row][CountryIndexs.gold.col]\n        .value as string,\n    };\n  }\n\n  public getSilverData(): IGraphData {\n    return {\n      score: this.grid[ScoreIndexs.silver.row][ScoreIndexs.silver.col]\n        .value as number,\n      country: this.grid[CountryIndexs.silver.row][CountryIndexs.silver.col]\n        .value as string,\n    };\n  }\n\n  public getBronzeData(): IGraphData {\n    return {\n      score: this.grid[ScoreIndexs.bronze.row][ScoreIndexs.bronze.col]\n        .value as number,\n      country: this.grid[CountryIndexs.bronze.row][CountryIndexs.bronze.col]\n        .value as string,\n    };\n  }\n\n  public setGoldData(data: IGraphData) {\n    this.grid[ScoreIndexs.gold.row][ScoreIndexs.gold.col].value = data.score;\n    this.grid[CountryIndexs.gold.row][CountryIndexs.gold.col].value =\n      data.country;\n  }\n\n  public setSilverData(data: IGraphData) {\n    this.grid[ScoreIndexs.silver.row][ScoreIndexs.silver.col].value =\n      data.score;\n    this.grid[CountryIndexs.silver.row][CountryIndexs.silver.col].value =\n      data.country;\n  }\n\n  public setBronzeData(data: IGraphData) {\n    this.grid[ScoreIndexs.bronze.row][ScoreIndexs.bronze.col].value =\n      data.score;\n    this.grid[CountryIndexs.bronze.row][CountryIndexs.bronze.col].value =\n      data.country;\n  }\n\n  public getGrid() {\n    return this.grid;\n  }\n\n  public debugPrint() {\n    for (let i = 0; i < this.gridSize; i++) {\n      let str = \"\";\n      for (let j = 0; j < this.gridSize; j++) {\n        str += `${this.grid[i][j].role}, ${this.grid[i][j].value}    `;\n      }\n      console.log(str);\n    }\n  }\n}\n","import React from \"react\";\nimport \"./style/button.css\";\nimport { ReactComponent as Share } from \"./share.svg\";\n\ninterface IButtonProps {\n  onClick: () => void;\n  label: string;\n}\n\nexport const Button: React.FunctionComponent<IButtonProps> = React.memo(\n  (props) => {\n    return (\n      <button className={\"button\"} onClick={props.onClick}>\n        <div className=\"buttonContainer\">\n          {props.label}\n          <Share className={\"shareLogo\"} />\n        </div>\n      </button>\n    );\n  }\n);\n","import React from \"react\";\nimport { GraphRole, IGraphGrid } from \"../graphGrid\";\nimport \"../style/graphBox.css\";\n\nconst getClassName = (role: GraphRole): string => {\n  switch (role) {\n    case GraphRole.Empty:\n      return \"basicBox empty\";\n    case GraphRole.Podium:\n      return \"basicBox podium\";\n    case GraphRole.Country:\n      return \"basicBox country\";\n    case GraphRole.Score:\n      return \"basicBox score\";\n    default:\n      alert(\"Invalid GraphRole\");\n      return \"basicBox empty\";\n  }\n};\n\nexport const GraphBox: React.FunctionComponent<IGraphGrid> = React.memo(\n  (props) => {\n    const { role, value } = props;\n    const className = getClassName(role);\n    return <div className={className}>{value}</div>;\n  }\n);\n","import React from \"react\";\nimport { IGraphGrid } from \"../graphGrid\";\nimport \"../style/graphGrid.css\";\nimport { GraphBox } from \"./graphBox\";\n\ninterface IGraphGridProps {\n  grid: IGraphGrid[][];\n}\n\nexport const GraphGrid: React.FunctionComponent<IGraphGridProps> = React.memo(\n  (props) => {\n    const { grid } = props;\n\n    return (\n      <div className=\"graphGridContainer\">\n        {grid.flat().map((item, index) => (\n          <GraphBox role={item.role} value={item.value} key={index} />\n        ))}\n      </div>\n    );\n  }\n);\n","import React from \"react\";\nimport { Button } from \"../../button\";\nimport { GraphData } from \"../../graphGrid\";\nimport \"../../style/statistics.css\";\nimport { NumberTiles } from \"../../wordtiles\";\nimport { GraphGrid } from \"../graphGrid\";\nimport worldIcon from \"../../globe-white-96.png\";\nimport userIcon from \"../../user-white-90.png\";\nimport { Score } from \"../../scores\";\n\ninterface IStatisticsProps {\n  world: GraphData;\n  personal: GraphData;\n}\n\nconst nav: any = window.navigator;\n\nexport const Statistics: React.FunctionComponent<IStatisticsProps> = React.memo(\n  (props) => {\n    const { world, personal } = props;\n    const currentScore = Score.getInstance().getCurrentScore();\n\n    const handleOnShareClick = async () => {\n      const shareData = {\n        title: \"Snakespeare\",\n        text: `Score: ${currentScore} \n\n   ${currentScore + 20}\n  ${currentScore + 10}\n ${currentScore + 5}\n\n`,\n        url: \"https://sarangkapadia.github.io/SnakeBytes/\",\n      };\n      try {\n        await navigator.share(shareData);\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    return (\n      <div className=\"statsContainer\">\n        <div className=\"worldContainer\">\n          <div className=\"overlayContainer\">\n            <GraphGrid grid={world.getGrid()} />\n            <div className=\"iconContainer\">\n              <img\n                className=\"statsIcon\"\n                src={worldIcon}\n                alt={\"world scores icon\"}\n              />\n              <div className=\"iconLabel\">World</div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"personalContainer\">\n          <div className=\"overlayContainer\">\n            <GraphGrid grid={personal.getGrid()} />\n            <div className=\"iconContainer\">\n              <img\n                className=\"statsIcon\"\n                src={userIcon}\n                alt={\"user scores icon\"}\n              />\n              <div className=\"iconLabel\">Me</div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"footerContainer\">\n          <NumberTiles score={currentScore} />\n          {nav.canShare ? (\n            <Button label={\"Share\"} onClick={handleOnShareClick}></Button>\n          ) : null}\n        </div>\n      </div>\n    );\n  }\n);\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAABmJLR0QA/wD/AP+gvaeTAAAEIUlEQVR4nO3cTYhVZRzH8e8/LTIwezOCyLI3rSwKokUmiKX2DgVi2aKgZblrE23at4pCJNrapk0gBBZFoYYkQWSOkyam0aKIMouiUL8tzjVsYO50zsz9P7d7nw8Ms5g593eeH+c+3HPOcy5UVVVVVVVVVVUNqSi9A/2o1wPrgZXAcuBqYGHvzyeAY8AksAvYERGHS+zn/5I6X31K/cT2dqub1HmlxzHU1PvVgx0KnmpSXVd6PENHvUB9cw4KnuoNdUHp8Q0F9XL1swGUfMZedXHpcRbVK3lygCWfMTm2ZdtMF4M8kqfaq55fetzpHMycPJOtpcedSl1XoOQzHigx5vQTFnU+MAHckJ3dMwmsiIhTmaHnZIb1PEG5kqE5w9yQHVqi6OcKZE71fHZg6tRhc+3iUGbmNASui4gjWYHZR/T65LzpBJB6ip5d9MrkvH5WZYZlF31Tcl4/yzPDsou+KjmvnyWZYdlFL5z5X9JcmBmW/anDzLyZRETa+Et8jh5Ltegk2UX/lZzXz5+ZYdlF/5qc18+JzLDsor9NzuvnWGZYdtETyXn9HMgMyy56d3JeP7syw7KL3kFz5aw0afYlTWrRvSVbezIzp7E7Ir7JDCzxOfr1AplTvZYdWOKe4TxgP7AsO7tnArht5O8Z9ga4OTv3LJuzSy7KZl1cti2lx51OXWCzeijLHsdxpRKAutictXcH1MtKj7eoXtmfDrDkPY7rAsepbKaRrQMoeYvjOl30o95n8zafrf3qmtLjGWrqPPVJdZd6ukW5p9Wd6kZ16G5oDPtTWUtpFrqsolmqMPWprKM0ixZ30jyVlXpaXVVVVVVVVVVVNRKG7sxQXQTcDKwAbgFuBC4BLgIW9X4DHD/r52fgK5pbZF8CExGRuhJpJsWLVq8A1gD3AquBa+fopQ8DHwEfAB9GxPdz9LqdFClavR3YBDxIc9QOPJLmSH8XeCsivkjI/Je0otUlwGPA08AdWbnTmADeBrZFxDA8jjd76j3q9paXPLOcVt9XH1GLT6Otqeepz6r7SrbY0ufqM+q5pfv7T2yOjkNlO5uVg+oGh/UIV++yuSsyKj5W7yzd6z9svj7tZfVk2V4G4pT6qnMwnczq7aFeA2wD7p7tjgy5vcCmiPi66wt0LlpdDbxDc7Y2Do4Dj0bEzi4bdypaXQW8B4zbmok/gLUR0frJhdZFq5fS3Hke1yVWPwLLIuKnNht1Wf/wEuNbMjRjf7HtRl2KfrjDNqPmobYbdJk6fgfG/fs+f4uIVt/U0OWI/qHDNqOm9SXXLkVv77DNqGndQZep40pgH3Bx221HxC/ArRHR6nHr1kd0RHwHbCT5ofUhcRx4vG3JMLszw6XAC8BaYCkwv+trDbmTwBGaE7RXIuJo4f2pqqqqqqqqqqqqqqoq7m985FY49Ek1NQAAAABJRU5ErkJggg==\"","import React, { useState } from \"react\";\nimport \"./style/App.css\";\n\nimport { GridContainer } from \"./gridContainer\";\nimport { Header } from \"./header\";\nimport { ModalPage } from \"./components/modals/modalPage\";\nimport { instructions } from \"./components/modals/instructions\";\nimport { Settings } from \"./components/modals/settings\";\nimport { initLaunchSettings } from \"./launchSettings\";\nimport { Statistics } from \"./components/modals/statistics\";\nimport { GraphData } from \"./graphGrid\";\n\n// temp code\nconst worldGraph = new GraphData();\nworldGraph.setSilverData({ score: 50, country: \"UK\" });\nworldGraph.setGoldData({ score: 80, country: \"IN\" });\nworldGraph.setBronzeData({ score: 30, country: \"FR\" });\n\nconst personalGraph = new GraphData();\npersonalGraph.setSilverData({ score: 35, country: \"JP\" });\npersonalGraph.setGoldData({ score: 75, country: \"CH\" });\npersonalGraph.setBronzeData({ score: 25, country: \"CA\" });\n// temp code\n\nconst ModalObj = {\n  None: { title: \"\", children: null },\n  About: { title: \"About\", children: null },\n  Instructions: { title: \"How to play\", children: instructions },\n  Statistics: {\n    title: \"High Scores\",\n    children: <Statistics world={worldGraph} personal={personalGraph} />,\n  },\n  Setting: { title: \"Settings\", children: <Settings /> },\n};\n\nconst isFirstVisit = initLaunchSettings();\n\nexport const App: React.FunctionComponent = () => {\n  const [modalType, setModalType] = useState<{\n    title: string;\n    children: JSX.Element | null;\n  }>(isFirstVisit ? ModalObj.Instructions : ModalObj.None);\n\n  const onClickInstructions = () => {\n    setModalType(ModalObj.Instructions);\n  };\n  const onClickSettings = () => {\n    setModalType(ModalObj.Setting);\n  };\n  const onClickStatistics = () => {\n    setModalType(ModalObj.Statistics);\n  };\n\n  const onCloseModal = () => {\n    setModalType(ModalObj.None);\n  };\n\n  const isWindow =\n    modalType.title === ModalObj.Instructions.title ||\n    modalType.title === ModalObj.Statistics.title;\n\n  return (\n    <div className={\"appContainer\"}>\n      <Header\n        onClickInstructions={onClickInstructions}\n        onClickSettings={onClickSettings}\n        onClickStatistics={onClickStatistics}\n      />\n      <ModalPage\n        onClose={onCloseModal}\n        title={modalType.title}\n        isWindow={isWindow}\n      >\n        {modalType.children}\n      </ModalPage>\n      <GridContainer\n        modalTitle={modalType.title}\n        onGameEnd={onClickStatistics}\n      />\n    </div>\n  );\n};\n","export const initLaunchSettings = () => {\n  const root = document.querySelector<HTMLElement>(\":root\")!;\n  const rootStyle = getComputedStyle(root);\n\n  const darkMode = localStorage.getItem(\"darkMode\");\n  const darkModeChecked = darkMode ? JSON.parse(darkMode) : true; // default turn on dark mode\n\n  if (darkModeChecked) {\n    root.style.setProperty(\n      \"--modalOverlayColor\",\n      rootStyle.getPropertyValue(\"--darkModalOverlay\").trim()\n    );\n    root.style.setProperty(\n      \"--statsOverlay\",\n      rootStyle.getPropertyValue(\"--darkStatsOverlay\").trim()\n    );\n    root.style.setProperty(\n      \"--fontColor\",\n      rootStyle.getPropertyValue(\"--darkFont\").trim()\n    );\n    root.style.setProperty(\n      \"--boxBackgroundColor\",\n      rootStyle.getPropertyValue(\"--darkBox\").trim()\n    );\n  } else {\n    root.style.setProperty(\n      \"--modalOverlayColor\",\n      rootStyle.getPropertyValue(\"--lightModalOverlay\").trim()\n    );\n    root.style.setProperty(\n      \"--statsOverlay\",\n      rootStyle.getPropertyValue(\"--lightStatsOverlay\").trim()\n    );\n    root.style.setProperty(\n      \"--appBackgroundColor\",\n      rootStyle.getPropertyValue(\"--lightBackground\").trim()\n    );\n    root.style.setProperty(\n      \"--fontColor\",\n      rootStyle.getPropertyValue(\"--lightFont\").trim()\n    );\n    root.style.setProperty(\n      \"--boxBackgroundColor\",\n      rootStyle.getPropertyValue(\"--lightBox\").trim()\n    );\n  }\n\n  const isFirst = localStorage.getItem(\"isFirst\");\n  const isFirstVisit: boolean = isFirst ? JSON.parse(isFirst) : true;\n  if (isFirstVisit)\n    localStorage.setItem(\"isFirst\", JSON.stringify(!isFirstVisit));\n\n  return isFirstVisit;\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./style/index.css\";\nimport { App } from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}